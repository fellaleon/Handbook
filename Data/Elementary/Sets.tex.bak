\chapter{Sets}

\section{Sets}

Most of the following content are from Tao \cite{Tao_2006_1} and Kelley \cite{Kelley_1955}.

\subsection{Sets and elements}

\begin{definition}[set\index{set}, element\index{element!set}]\label{def:set}
A set $A$ is any unordered collection of objects.

If $x$ is an object, we say that $x$ is an element of $A$ or $x\in A$ if $x$ lies in the collection; otherwise we say that $x\notin A$.
\end{definition}

\begin{axiom}[sets are objects]
If $A$ is a set, then $A$ is also an object. In particular, given two sets $A$ and $B$, it is meaningful to ask whether $A$ is also an element of $B$.
\end{axiom}

\begin{definition}[equality of sets\index{equality!sets}]\label{def:equality_set}
Two sets $A$ and $B$ are equal, $A=B$ iff every element of $A$ is an element of $B$ and vice versa. To put it another way, $A=B$ if and only if every element $x$ of $A$ belongs also to $B$, and every element $y$ of $B$ belongs also to $A$.
\end{definition}

\begin{example}
For instance, $\bra{a,b,c,d,e}$ and $\bra{c,d,b,a,e}$ are the same set.

The $\bra{c,c,a,e,b,d,b}$ is also equal to $\bra{a,b,c,d,e}$; the repetition of $b$ and $c$ is irrelevant as it does not further change the status of $b$ and $c$ being elements of the set.
\end{example}

\begin{axiom}[empty set\index{empty set}]\label{axm:empty_set}
There exists a set $\emptyset$, known as the empty set, which contains no elments, i.e., for every object $x$ we have $x\notin \emptyset$.
\end{axiom}

\begin{remark}
Note that there can only be one empty set; if there were two sets $\emptyset$ and $\emptyset'$ which were both empty, then by Definition \ref{def:equality_set} they would be equal to each other.
\end{remark}

\begin{lemma}[single choice]\label{lem:single_choice}
Let $A$ be a non-empty set. Then there exists an object $x$ such that $x\in A$.
\end{lemma}

\begin{proof}[\bf Proof]
We prove by contradiction. Suppose there does not exist any object $x\in A$. Then for all objects $x$, we have $x\notin A$. Also, by Axiom \ref{axm:empty_set} we have $x\notin \emptyset$. Thus, $x\in A \lra x\in \emptyset$ (both statements are equally false), and so $A = \emptyset$ by Definition \ref{def:equality_set}. Contradiction.
\end{proof}

\begin{axiom}[singleton sets\index{singleton set} and pair sets\index{pair set}]
If $a$ is an object, then there exists a set $\bra{a}$ whose only element is $a$, i.e., for every object $y$, we have $y\in \bra{a}$ if and only if $y=a$; we refer to $\bra{a}$ as the singleton set whose element is $a$.

Furthermore, if $a$ and $b$ are objects, then there exists a set $\bra{a,b}$ whose only elements are $a$ and $b$; i.e., for every object $y$, we have $y \in \bra{a,b}$ if and only if $y=a$ or $y=b$; we refer to this set as the pair set formed by $a$ and $b$.
\end{axiom}

\subsection{Subsets}

\begin{definition}[subset\index{subset}]\label{def:subset}
Let $A,B$ be sets. Then $A$ is a subset of $B$, denoted $A\subseteq B$, iff every element of $A$ is also an element of $B$, i.e., for any object $x$, $x\in A\ \ra \ x\in B$.

We say that $A$ is a proper subset of $B$, denoted $A\subset B$, if $A\subseteq B$ and $A\neq B$.
\end{definition}

\begin{remark}
Given any set $A$, we always have $A\subseteq A$ and $\emptyset \subseteq A$.
\end{remark}

\begin{example}
$\bra{a,b,d}\subset \bra{a,b,c,d,e}$.
\end{example}

\begin{proposition}[sets are partially ordered by set inclusion]
Let $A,B,C$ be sets. If $A\subseteq B$ and $B\subseteq C$ then $A\subseteq C$. If $A\subseteq B$ and $B\subseteq A$, then $A=B$. Finally, if $A\subset B$ and $B\subset C$ then $A\subset C$.
\end{proposition}

\begin{proof}[\bf Proof]
\footnote{need proof}
\end{proof}

\begin{axiom}[axiom of specification]\label{axm:specification}
Let $A$ be a set, and for each $x\in A$, let $P(x)$ be a property pertaining to $x$ (i.e., $P(x)$ is either a true statement or a false one). Then there exists a set called $\bra{x\in A:P(x)\text{ is true}}$, whose elements are precisely the elements $x$ in $A$ for which $P(x)$ is true. In other words, for any object $y$,
\be
y \in \bra{x\in A:P(x)\text{ is true}} \ \ra \ y\in A \text{ and } P(y) \text{ is true.}
\ee
\end{axiom}

\begin{axiom}[axiom of replacement]\label{axm:replacement}
Let $A$ be a set. For any object $x\in A$, and any object $y$, suppose we have a statement $P(x,y)$ pertaining to $x$ and $y$, such that for each $x\in A$ there is at most one $y$ for which $P(x,y)$ is true. Then there exists a set $\bra{y:P(x,y)}$ is true for some $x\in A$, such that for any object $z$,
\be
z\in \bra{y:P(x,y)\text{ is true for some }x\in A} \ \lra \ P(x,z) \text{ is true for some }x\in A.
\ee
\end{axiom}

\section{Set Operations}

\subsection{Basic operations}

\begin{axiom}[pairwise union\index{union!pairwise}]\label{axm:union_pairwise}
Given any two sets $A,B$, there exists a set $A\cup B$, called the union $A\cup B$ of $A$ and $B$, whose elements consists of all the elements which belong to $A$ or $B$ or both. In other words, for any object $x$,
\be
x\in A\cup B \ \ra \ x\in A \text{ or }x\in B.
\ee

Note that $A\cup B = B\cup A$ as the set is unordered.
\end{axiom}

\begin{example}
$\bra{a,b}\cup \bra{b,c} = \bra{a,b,c}$.
\end{example}

\begin{remark}
If $A,B,A'$ are sets, and $A$ is equal to $A'$, then $A\cup B$ is equal to $A'\cup B$.\footnote{need proof.}
\end{remark}

\begin{lemma}
If $a$ and $b$ are objects, then $\bra{a,b} = \bra{a}\cup \bra{b}$. If $A,B,C$ are sets, then the union operation is commutative (i.e., $A\cup B = B\cup A$) and associative (i.e., $(A\cup B)\cup C = A \cup (B\cup C)$).

Also, we have $A\cup A = A \cup \emptyset = \emptyset \cup A = A$.
\end{lemma}

\begin{proof}[\bf Proof]
\footnote{need proof}
\end{proof}

\begin{definition}[intersection\index{intersection!pairwise}]\label{def:intersection_pairwise}
The intersection $A\cap B$ of two sets $A,B$ is defined to be the set
\be
A\cap B = \bra{x\in A: x\in B}.
\ee

In other words, $A\cap B$ consists of all the elements which belong to both $A$ and $B$. Thus, for all object $x$,
\be
x\in A\cap B \ \lra \ x\in A \text{ and }x\in B.
\ee

Note that $A\cap B = B\cap A$ as the set is unordered.
\end{definition}

\begin{example}
$\bra{a,b,d}\cap\bra{b,c,d} = \bra{b,d}$, $\bra{a,b}\cap \bra{c,d} = \emptyset$.
\end{example}

\begin{definition}[difference set]\label{def:difference_set}
Given two sets $A$ and $B$, we define the set $A-B$ or $A\bs B$ to be the set $A$ with any elements of $B$ removed:
\be
A\bs B:= \bra{x\in A:x\notin B}.
\ee

Note that in many cases $B$ will be a subset of $A$, but not necessarily.
\end{definition}

\begin{theorem}[sets form a boolean algebra]\label{thm:basic_set_properties}
Let $A,B,C$ be sets, and let $X$ be a set containing $A,B,C$ as subsets.
\ben
\item [(i)] (minimal element) $A\cup \emptyset = A$ and $A\cap \emptyset = \emptyset$.
\item [(ii)] (maximal element) $A\cup X = X$ and $A\cap X = A$.
\item [(iii)] (identity) $A\cap A = A$ and $A\cup A = A$.
\item [(iv)] (commutativity) $A\cup B = B\cup A$ and $A\cap B = B\cap A$.
\item [(v)] (associativity) $(A\cup B)\cup C = A\cup (B\cup C)$ and $(A\cap B)\cap C = A\cap (B\cap C)$.
\item [(vi)] (distributivity) $A\cap (B\cup C) = (A\cap B)\cup (A\cap C)$ and $A\cup (B\cap C) = (A\cup B)\cap (A\cup C)$.
\item [(vii)] (partition) $A\cup (X\bs A) = X$ and $A\cap (X\bs A) = \emptyset$.
\item [(viii)] (De Morgan laws\index{De Morgan laws}) $X\bs(A\cup B) = (X\bs A)\cap (X\bs B)$ and $X\bs(A\cap B) = (X\bs A)\cup (X\bs B)$.
\een
\end{theorem}

\begin{remark}
The above laws are collectively known as the laws of Boolean algebra, after the mathematician Geoge Boole (1815-1864), and are also applicable to a number of other objects other than sets; it plays
a particularly impartant role in logic.

The De Morgan laws are named after the logician Augustus De Morgan (1808-1871), who identified them as one of the basic laws of set theory. It is usually stated in the abbreviated form: the
complement of the union is the intersection of the complements, and the complement of an intersection is the union of the complements.
\end{remark}

\begin{proof}[\bf Proof]
\footnote{need proof}
\end{proof}


More generally, we have

\begin{theorem}
Let $X_i\in X$, $i\in I$ be the subsets of $X$. Then
\ben
\item [(i)] If $A$ is a subset of $I$, then $\bigcup_{i\in A} X_i \subseteq \bigcup_{i\in I} X_i$ and $\bigcap_{i\in A} X_i \supseteq \bigcap_{i\in I} X_i$.
\item [(ii)] (De Morgon law) $X\left\bs \bigcup_{i\in A} X_i \right.= \bigcap_{i\in A} X\bs X_i$ and $X\left\bs \bigcap_{i\in A} X_i \right.= \bigcup_{i\in A} X\bs X_i$.
\een
\end{theorem}


\begin{proof}[\bf Proof]
\footnote{need proof}
\end{proof}




%%%%%%%%%%%%%

\begin{definition}[symmetric difference\index{symmetric difference}]\label{def:symmetric_difference}
Given two sets $A,B$, the symmetric difference is written by $A \triangle B = (A\bs B)\cup (B\bs A)$.
\end{definition}


\subsection{Convergence of sets}

\begin{definition}\label{def:monotone_convergence_sets}
We write $A_n\ua A$ if for all $n\in \N$, $A_n \subseteq A_{n+1}$ and $A = \bigcup_n A_n$.

Similarly, $A_n \da A$ if for all $n\in \N$, $A_n \supseteq A_{n+1}$ and $A = \bigcap_n A_n$.
\end{definition}

\section{Relations}


\subsection{Relations}

\begin{definition}[relation\index{relation}]\label{def:relation}
A relation is a set of ordered pairs, i.e., a relation is a set, each member of which is an ordered pair.

If $R$ is a relation we write $xRy$ and $(x,y)\in R$ interchangeably, and we say that $x$ is $R$-related to $y$ if and only if $xRy$.
\end{definition}


\begin{definition}[domain\index{domain!relation}, range\index{range!relation}]\label{def:domain_range_relation}
The domain of a relation $R$ is the set of all first coordinates of members of $R$, and its range is the set of all second coordinates. Formally,
\be
\text{domain}(R) = \bra{x:\text{for some }y,(x,y)\in R},\qquad \text{range}(R) = \bra{y:\text{for some }x,(x,y)\in R}.
\ee
\end{definition}

\begin{example}[Cartesian product]
One of the simplest relations is the set of all pairs $(x,y)$ such that $x$ is a member of some fixed set $A$ and $y$ is a member of some fixed set $B$. This relation is the Cartesian product of $A$
and $B$ and is denoted by $A\times B$. Thus, $A\times B = \bra{(x,y):x\in A,y\in B}$\footnote{definition needed.}.
\end{example}


\begin{definition}[inverse\index{inverse!relation}]
The inverse of a relation $R$, denoted by $R^{-1}$, is obtained by reversing each of the pairs belonging to $R$. Thus, $R^{-1} = \bra{(x,y): (y,x)\in R}$ and
\be
xRy \lra yR^{-1}x.
\ee
\end{definition}

\begin{remark}
It is obvious that if relations $R\subseteq S$, then $R^{-1} \subseteq S^{-1}$.

We will see later that unlike the inverse of function, the inverse of relation always exists.
\end{remark}

\begin{example}
Define relation $R = A\times B$ for all set $A$ and $B$, $(A\times B)^{-1} = B\times A$.
\end{example}


\begin{definition}[composition\index{composition!relation}]
If $R$ and $S$ are relations, their composition, $R\circ S$ (sometimes written $RS$), is defined to be the set of all pairs $(x,z)$ such that for some $y$ it is true that $(x,y)\in S$ and $(y,z)\in
R$.
\end{definition}

\begin{example}
If $R = \bra{(1,2)}$ and $S = \bra{(0,1)}$, then $R\circ S = \bra{(0,2)}$ and $S\circ R$ is void.
\end{example}



\begin{definition}[identity relation\index{identity!relation}]
The identity relation $R$ on $X$ is the set of all pairs of the form $(x,x)$ for any $x\in X$, denoted by $\Delta$.

The name is derived from the fact that $\Delta \circ R = R\circ \Delta = R$ whenever $R$ is a relation whose domain and range are subsets of $X$.
\end{definition}

\begin{remark}
The identity relation is also called the diagonal, a name suggestive of its geometric position in $X\times X$.
\end{remark}


\begin{definition}
If $R$ is a relation and $A$ is a set, then $R[A]$, the set of all $R$ relatives to points of $A$ is defined to be $\bra{y:xRy \text{ for some }x\in A}$.
\end{definition}

\begin{remark}
If $A$ is the domain of $R$, then $R[A]$ is the range of $R$, and for arbitrary $A$ the set $R[A]$ is contained in the range of $R$.

If $R$ and $S$ are relations and $R\subseteq S$, then cleary $R[A] \subseteq S[A]$ for every $A$.
\end{remark}


\begin{proposition}\label{pro:inverse_relation_properties}
Let $R,S,T$ be the relations and let $A$ and $B$ be sets. Then
\ben
\item [(i)] $\bb{R^{-1}}^{-1} = R$, $\bb{R\circ S}^{-1} = S^{-1}\circ R^{-1}$.
\item [(ii)] $R\circ (S\circ T) = (R\circ S)\circ T$, $(R\circ S)[A] = R[S[A]]$.
\item [(iii)] $R[A\cup B] = R[A] \cup R[B]$, $R[A\cap B] \subseteq R[A] \cap R[B]$.
\een

More generally, if given sets $A_i$ for $i\in I$ where $I$ is non-void index set, then
\ben
\item [(iv)] $R\bsb{\bigcup_{i\in I}A_i} = \bigcup_{i\in I} R[A_i]$, $R\bsb{\bigcap_{i\in I}A_i} \subseteq \bigcap_{i\in I} R[A_i]$.
\een
\end{proposition}

\begin{proof}[\bf Proof]
\footnote{proof needed.}
\end{proof}

\subsection{Equivalent relations}

In the following section, we usually assume that $X = \text{(domain $R$)}\cup \text{(range $R$)}$ for relation $R$.

\begin{definition}[reflexive\index{reflexive!relation}]
The relation $R$ is reflexive on $X$ if and only if each point of $X$ is $R$-related to itself, i.e., $\forall x\in X$, $xRx$.

This is entirely equivalent to requiring that the identity relation $\Delta$ be a subset of $R$.
\end{definition}

\begin{definition}[symmetric\index{symmetric!relation}]
The relation $R$ is symmetric on $X$, provided that $xRy$ whenever $yRx$ for any $x,y\in X$, i.e. $R = R^{-1}$.
\end{definition}

\begin{definition}[anti-symmetric\index{anti-symmetric!relation}]
The relation $R$ is anti-symmetric on $X$ iff it is never the case that both $xRy$ and $yRx$ for any $x,y\in X$.
\end{definition}


\begin{definition}[transitive\index{transitive!relation}]
The relation $R$ is transitive on $X$ iff whenever $xRy$ and $yRz$ then $xRz$ for any $x,y,z\in X$, i.e., $R\circ R\subseteq R$.
\end{definition}

\begin{proposition}\label{pro:inverse_of_transitive_relation}
The inverse of a transitive relation $R$, $R^{-1}$, is transitive.
\end{proposition}

\begin{proof}[\bf Proof]
By Proposition \ref{pro:inverse_relation_properties}.(i) and transitivity of $R$, we have
\be
R^{-1} \circ R^{-1} = (R\circ R)^{-1} \subseteq R^{-1}.
\ee

Thus, $R^{-1}$ is transitive.
\end{proof}

\begin{proposition}
If the relation is both transitive and reflexive, then $R\circ R = R$.
\end{proposition}

\begin{remark}
In the usual terminology, such a relation is idempotent under composition.
\end{remark}

\begin{proof}[\bf Proof]
By definition of transitive relation, we have $R\circ R \subseteq R$. Also, since $R$ is reflexive, $\Delta \subseteq R$. Thus,
\be
R = R\circ \Delta \subseteq R \circ R \ \ra \ R \circ R = R.
\ee
\end{proof}





\begin{definition}[equivalent relation\index{equivalent!relation}]
An equivalent relation $R$ on $X$ is a reflexive, symmetric and transitive relation, i.e., for any $x,y,z\in X$,
\be
\text{(i)}\ xRx, \qquad \text{(ii)}\ xRy \ \ra \ yRx,\qquad \text{(iii)}\  xRy,\ yRz \ \ra \ xRz.
\ee
\end{definition}



\begin{theorem}
A relation $R$ is an equivalent relation if and only if there is a disjoint family $\sA$ such that
\be
R = \bigcup \bra{A\times A:A\in \sA}.
\ee
\end{theorem}

\begin{proof}[\bf Proof]
\footnote{proof needed.}
\end{proof}



\section{Functions}

\subsection{Definition}

\begin{definition}[function\index{function}]\label{def:function}
Let $X,Y$ be sets, and let $P(x,y)$ be a property pertaining to an object $x\in X$ and an object $y\in Y$, such that for every $x\in X$, there is exactly one $y\in Y$ for which $P(x,y)$ is true (this is sometimes known as the vertical line test).

Then we define the function $f:X\to Y, x\mapsto f(x)$ defined by $P$ on the domain\index{domain} $X$ and range\index{range} $Y$ to be the object which, given any input $x\in X$, assigns an output $f(x)\in Y$, defined to be the unique object $f(x)$ for which $P(x,f(x))$ is true. Thus, for any $x\in X$ and $y\in Y$,
\be
y = f(x) \ \lra \ P(x,y)\text{ is true.}
\ee
\end{definition}

\begin{remark}
By definition of function $f:X\to Y$, we can have $X = f^{-1}(Y)$ (see Definition \ref{def:inverse_image_set}).
\end{remark}

%\begin{remark}
%Note that the functions are single-valued, and obey the rule that $f(x)\in Y$ for all $x\in X$. If we have $f_1,f_2: X\to Y$, then $f_1 = f_2$ if $f_1(x) = f_2(x)$ for all $x\in X$.
%\end{remark}

%\begin{definition}
%If $A,B$ are sets, a function\index{function} (or mapping) $f:A\to B$ is a rule that assigns to each element exactly one element $a\in A$ exactly one element $f(a) \in B$.
%%\end{definition}

\begin{definition}[equality of functions\index{equality!functions}]\label{def:equality_function}
Two functions $f:X\to Y$, $g:X\to Y$ with the same domain and range are said to be equal, $f=g$, if and only if $f(x) = g(x)$ for all $x\in X$.
\end{definition}

\begin{remark}
If $f(x)$ and $g(x)$ agree for some values of $x$, but not others, then we do not consider $f$ and $g$ to be equal.

Note that since function is specific relation, equal functions are equivalent relations.
\end{remark}

\begin{example}
We can see the following examples as we define the real number operation in Chapter \ref{cha:numbers}
\ben
\item [(i)] The functions $x\mapsto x^2 + 2x +1$ and $x\mapsto (x+1)^2$ are equal on the domain $\R$ and range $[1,\infty)$.
\item [(ii)] The functions $x\mapsto x$ and $x\mapsto \abs{x}$ are equal on the positive real axis, but are not equal on $\R$; thus the concept of equality of functions can depend on the choice of domain.
\een
\end{example}

\begin{definition}[composition\index{composition!function}]\label{def:composition}
Let $f:X\to Y$ and $g:Y\to Z$ be two functions, such that the range of $f$ is the same set as the domain of $g$. We then define the composition $g\circ f:X\to Z$ of the two functions $g$ and $f$ to be the function define explicitly by the formula
\be
(g\circ f)(x) := g(f(x)).
\ee

If the range of $f$ does not match the domain of $g$, we leave the composition $g\circ f$ undefined.
\end{definition}

\begin{lemma}[composition is associative]\label{lem:composition_is_associative}
Let $f:X\to Y$, $g:Y\to Z$, and $h:Z\to W$ be functions. Then $h\circ (g\circ f) = (h\circ g)\circ f$.
\end{lemma}

\begin{proof}[\bf Proof]
\footnote{need proof}
\end{proof}



\subsection{Injective, surjective and bijective functions}

\begin{definition}[injective\index{injective} (one-to-one\index{one-to-one}) function]\label{def:injective_function}
A function $f:X\to Y$ is injective(or one-to-one) if different elements map to different elements:
\be
x\neq x'  \ \ra \ f(x) \neq f(x').
\ee

Equivalently, a function is injective if
\be
f(x) = f(x') \ \ra \ x = x'.
\ee%$a_1,a_2\in A,\ f(a_1) = f(a_2)\ \ra \ a_1=a_2$, so that each element in $A$ is assigned a different element in $B$.
\end{definition}

\begin{definition}[surjective\index{surjective} (onto\index{onto}) function]\label{def:surjective_function}
A function $f:X\to Y$ is surjective (or onto $Y$) if $f(X) = Y$ (see Definition \ref{def:image_set}), i.e., every element in $Y$ comes from applying $f$ to some element in $X$:
\be
\text{for every }y\in Y, \text{ there exists }x\in X\text{ such that }f(x) = y.
\ee%each $b\in B$ has an $a\in A$ with $f(a) = b$, so that everything in $B$ is 'covered' by something in $A$. Injectivity implies surjectivity for finite sets.
\end{definition}

\begin{definition}[bijective function\index{bijective function}]\label{def:bijective_function}
$f:X\to Y$ is bijective function (or bijection) if it is both injective and surjective.
\end{definition}

\begin{remark}
Note that bijective function is also called one-one correspondence\index{one-one correspondence} function.
\end{remark}

\begin{example}\label{exa:bijective_function_4}
If $X = \bra{1,2,3,4}$ and $Y = \bra{a,b,c,d}$, then
\be
f(1) = a,\quad f(2) = b,\quad f(3) = c,\quad f(4) = d
\ee
is a bijective function.
\end{example}

%If $g:A\to B$ and $f:B\to C$, then we define $f\circ g:A\to C$ by, for all $a\in A$, $f\circ g(a) = f(g(a))$.

\begin{lemma}\label{lem:composition_injective_surjective_bijective_functions}%\footnote{needed in Groups}
If $f:X\to Y$ and $g: Y\to Z$ are both injective, both surjective or both bijective, then so is $g\circ f$.
\end{lemma}

\begin{proof}[\bf Proof]%We only consider the injective case.
If $g\circ f(x) = g\circ f(x')$ then $g(f(x)) = g(f(x'))$ by definition. But $g$ is injective, thus $f(x) = f(x')$. Also $f$ is injective, thus $x = x'$.

%Similar arguments work with surjectivity and

Since $g$ is surjective, for any $z\in Z$, we can find $y\in Y$ such that $z = g(y)$. Also, we can find $x\in X$ such that $y = f(x)$ as $f$ is surjective. Thus, for any $z\in Z$, we can find $x\in X$ such that $z = g(f(x)) = g\circ f(x)$. Therefore, $g\circ f$ is surjective.

Then the conclusion of bijectivity is from the definition.
\end{proof}

\begin{proposition}\label{pro:composition_injective_surjective_implies_individual_injective_surjective}
Let $f:X\to Y$ and $g = Y\to Z$ be functions. Then
\ben
\item [(i)] If $g\circ f$ is injective, then $f$ is injective.
\item [(ii)] If $g\circ f$ is surjective, then $g$ is surjective.
\een
\end{proposition}

\begin{proof}[\bf Proof]
\ben
\item [(i)] Suppose that $x,x'\in X$ and $f(x) = f(x')$. Then
\be
\bb{g\circ f}(x) = g\bb{f(x)} = g\bb{f(x')} = \bb{g\circ f}(x') \ \ra\ x = x'
\ee
since $g\circ f$ is injective. Thus, we conclude that $f$ is injective as well.

\item [(ii)] For any $z\in Z$, we can find $x\in X$ such that
\be
\bb{g\circ f}(x) = g\bb{f(x)} = z
\ee
since $g\circ f$ is surjective. Thus, we can find $f(x)\in Y$ for any $z$ which implies that $g$ is surjective.
\een
\end{proof}

\begin{proposition}
Suppose $f_1,f_2:X\to Y$, $g :Y\to Z$ and $h_1,h_2:Z\to W$ are functions.
\ben
\item [(i)] If $g$ is injective and $g\circ f_1 = g\circ f_2$ then $f_1= f_2$.
\item [(ii)] If $g$ is surjective and $h_1\circ g = h_2\circ g$ then $h_1= h_2$.
\een
\end{proposition}


\begin{proof}[\bf Proof]
\ben
\item [(i)] For any $x\in X$, we have
\be
g\bb{f_1(x)} = \bb{g\circ f_1}(x) =  \bb{g\circ f_2}(x) = g\bb{f_2(x)} \ \ra\ f_1(x) = f_2(x)
\ee
since $g$ is injective. Then $f_1 = f_2$ on $X$.

\item [(ii)] For any $z\in Z$, we can find $y \in Y$ such that $g(y) =z$ since $g$ is surjective. So
\be
h_1(c) = h_1\bb{g(y)} = \bb{h_1\circ g}(y) = \bb{h_2\circ g}(y) = h_2\bb{g(y)} = h_2(c),
\ee
which implies that $h_1 = h_2$ on $Z$.
\een
\end{proof}



\subsection{Images and inverse images}

\begin{definition}[images of set\index{image!set}]\label{def:image_set}
If $f:X\to Y$ is function from $X$ to $Y$ (see Definition \ref{def:function}), and $S$ is subset in $X$, we define $f(S)$ to be the set \be f(S) := \bra{f(x):x\in S}; \ee this set is a subset of
$Y$, and is sometimes called the image of $S$ under the map $f$. We sometimes call $f(S)$ the forward image of $S$ to distinguish it from the concept of the inverse image $f^{-1}(S)$ of $S$, which
is defined below.
\end{definition}

\begin{remark}
It's obvious that $A\subseteq B$ implies $f(A)\subseteq f(B)$.
\end{remark}

\begin{proposition}
Let $A,B$ be two subsets of a set $X$, and let $f:X\to Y$ be a function. Then
\be
f(A\cup B) = f(A) \cup f(B),\qquad
f(A\cap B) \subseteq f(A) \cap f(B).%,\quad f(A)\bs f(B) \subseteq f(A\bs B),\quad .
\ee

%For $A\subseteq C\subseteq X$,

Furthermore, we have
\be
f(B) \bs f(A) \subseteq f(B \bs A) .
\ee
\end{proposition}

\begin{proof}[\bf Proof]
\footnote{need proof}
\end{proof}

Equality does not necessarily hold in the intersection formula. There is a more general form of the above proposition.

\begin{proposition}
For any function $f : X \to Y$, subsets $A_i$ of $X$, $i\in I$\footnote{Note that $I$ can be uncountable.}
\be
f\bb{\bigcup_{i\in I} A_i} = \bigcup_{i\in I} f(A_i),\qquad
f\bb{\bigcap_{i\in I} A_i} \subseteq \bigcap_{i\in I} f(A_i). \ee
\end{proposition}

\begin{proof}[\bf Proof]
\footnote{need proof}
\end{proof}

%\subsection{Inverse images}

\begin{definition}[inverse image\index{inverse image!set}]\label{def:inverse_image_set}
If $U$ is a subset of $Y$, we define the set $f^{-1}(U)$ to be the set \be f^{-1}(U) := \bra{x\in X:f(x)\in U}. \ee

In other words, $f^{-1}(U)$ consists of all the elements of $X$ which map into $U$: \be
f(x) \in U \ \lra\ x\in f^{-1}(U).
\ee

We call $f^{-1}(U)$ the inverse image (or preimage) of $U$.
\end{definition}

\begin{remark}
$A\subseteq B$ implies $f^{-1}(A) \subseteq f^{-1}(B)$.
\end{remark}

Furthermore, the inverse image preserves the set operation.

\begin{proposition}[inverse image preserves set operation]\label{pro:inverse_image_preserves_set_operation}
Let $f:X\to Y$ be a function from one set $X$ to another set $Y$, and let $A,B$ be subsets of $Y$. Then
\be
f^{-1}(A\cup B) = f^{-1}(A)\cup f^{-1}(B),\qquad
f^{-1}(A\cap B) = f^{-1}(A)\cap f^{-1}(B).%,\quad f^{-1}(A\bs B) = f^{-1}(A)\bs f^{-1}(B).
\ee

%For $A\subseteq C\subseteq Y$, we have

Furthermore, we have
\be
f^{-1}(B \bs A) = f^{-1}(B) \left\bs f^{-1}(A)\right.
\ee
\end{proposition}

\begin{proof}[\bf Proof]
\footnote{need proof}
\end{proof}


%\section{Infinite Sets}

A more general result is given by

\begin{proposition}[inverse image preserves set operation]\label{pro:inverse_image_preserves_set_operation_infinite}
For any function $f : X \to Y$, the inverse image preserves set operations, for subsets $A_i$ of $Y$, $i\in I$\footnote{Note that $I$ can be uncountable}
\be
f^{-1} \bb{\bigcup_{i\in I} A_i} = \bigcup_{i\in I} f^{-1}(A_i),\qquad
f^{-1} \bb{\bigcap_{i\in I} A_i} = \bigcap_{i\in I} f^{-1}(A_i).
\ee
\end{proposition}

\begin{proof}[\bf Proof]
\beast
x \in f^{-1}\bb{\bigcup_{i\in I} A_i} \ \lra\  f(x) \in \bigcup_{i\in I} A_i & \lra & f(x) \in A_i \text{ for some }i \\
& \lra & x\in f^{-1}\bb{A_i}\text{ for some }i \ \lra \ x \in \bigcup_{i\in I} f^{-1}\bb{A_i}.
\eeast
\beast
x \in f^{-1}\bb{\bigcap_{i\in I} A_i} \ \lra\  f(x) \in \bigcap_{i\in I} A_i & \lra & f(x) \in A_i \text{ for all }i \\
& \lra & x\in f^{-1}\bb{A_i}\text{ for all }i \ \lra \ x \in \bigcap_{i\in I} f^{-1}\bb{A_i}.
\eeast
\end{proof}

%\beast
%x \in f^{-1}(B \bs A) \ \lra\  f(x) \in B \bs A & \lra & f(x) \in B,\ f(x)\in A^c \\
%& \lra & x\in f^{-1}\bb{B},\ x\in f^{-1}\bb{A^c} \\
%& \lra & x\in f^{-1}\bb{B},\ x\in \bb{f^{-1}\bb{A}}^c \ \lra \ x \in f^{-1}(B) \left\bs f^{-1}(A)\right..
%\eeast

\begin{lemma}\label{lem:function_inverse_function_composition}
Let $X$ and $Y$ be two sets and $f:X\to Y$ be a map from $X$ to $Y$. Then for any $A\in X$, we have
\be
A \subseteq f^{-1}\bb{f(A)}.
\ee

For any subset $B\subseteq Y$, we have
\be
f\bb{f^{-1}(B)} = B\cap f(X).
\ee

In particular, if $f$ is surjective (or onto), that is, $Y = f(X)$ ($\forall y\in Y$, $\exists x\in X$ such that $f(x) = y$.), then
\be
f\bb{f^{-1}(B)} = B.
\ee
\end{lemma}

\begin{proof}[\bf Proof]
For any $a\in A$, we have $f(a)\in f(A)$ by definition of image so $a \in f^{-1}\bb{f(A)}$ by definition of inverse image. Thus, $A\subseteq f^{-1}\bb{f(A)}$.

Now let $y\in f\bb{f^{-1}(B)}$. Then $y = f(x)$ for some $x\in f^{-1}(B)$. But for such an $x$ we have that $f(x) \in B$ so $y\in B$. But also $y = f(x)$ so $y \in f(X)$. Hence $y\in B\cap f(X)$ which implies that $f\bb{f^{-1}(B)} \subseteq B\cap f(X)$.

Conversely, if $y\in B\cap f(X)$ then $y\in B$ and also $y = f(x)$ for some $x\in X$. Now for this $x$ have $f(x) = y\in B$ so $x\in f^{-1}(B)$. Thus,
\be
y = f(x) \in f\bb{f^{-1}(B)} \ \ra\ B\cap f(X) \subseteq f\bb{f^{-1}(B)}
\ee
which gives the required result.
\end{proof}

It is easy to find examples where the inclusion in the first part is strict.

\begin{example}
\ben
\item [(i)] Let $X= \bra{a,b}$ and $Y = \bra{1,2}$. The map $f$ has images $f(a) = f(b) = 1$. Let $A = \bra{a}$, then
\be
f^{-1}\bb{f(A)} = f^{-1}(1) = \bra{a,b} \neq A.
\ee

\item [(ii)] Let $X=Y = \R$ and $f(x) = x^2$ and $A = [0,1]$. Then
\be
f^{-1}\bb{f(A)} = f^{-1}\bb{[0,1]} = [-1,1] \neq A.
\ee
\een
\end{example}

\begin{proposition}[composition of inverse images]\label{pro:composition_of_inverse_images}
Let $f:Y\to Z$ and $g:X\to Y$ be two functions. If $W$ is a subset of $Z$, then the inverse image of $f\circ g$ of $W$ is
\be
\bb{f\circ g}^{-1}(W) =g^{-1} \bb{f^{-1}(W)} = \bra{x\in X:\bb{f\circ g}(x) \in W}.
\ee
\end{proposition}

\begin{proof}[\bf Proof]
In general, by definition, for $h:U\to V$, we have that $h^{-1}(V)$ consists of all the elements of $U$ which map into $V$. That is,
\be
h(x) \in V \ \lra \ x\in h^{-1}(V).
\ee

Thus,
\beast
x\in (f\circ g)^{-1}(W) & \ \lra \ &  \bb{f\circ g}(x) \in W \ \lra\ f(g(x)) \in W \\
& \ \lra\ & g(x) \in f^{-1}(W) \ \lra \  x\in g^{-1}\bb{f^{-1}(W)}.
\eeast
\end{proof}


\subsection{Inverse function}

\begin{definition}[inverse function\index{inverse!function}]\label{def:inverse_function}
Let $f:X\to Y$ and $g:Y\to X$ be two functions. Then we say $g$ is an inverse (function) to $f$ (and $f$ is an inverse (function) to $g$) if for any $x\in X$ and $y\in Y$
\be
f\bb{g(y)} = y,\qquad g\bb{f(x)} = x.\qquad\qquad \bb{f\circ g = i_Y,\qquad g\circ f = i_X}
\ee
\end{definition}

\begin{example}\label{exa:inverse_function_4}
\ben
\item [(i)]
Recall Example \ref{exa:bijective_function_4}, we also define
\be
g(a) = 1,\quad g(b) = 2,\quad g(c) = 3,\quad g(d) = 4.
\ee

Then $f$ and $g$ are inverses. For instance,
\be
f(g(a)) = f(1) = a,\qquad g(f(2)) = g(b) = 2.
\ee

\item [(ii)] The identity function $i_A:A\to A$ is its own inverse.
\een
\end{example}

\begin{definition}[pseudo-inverse (function)]\label{def:pseudo_inverse_function}
Let $f:X\to Y$ be a function with range $U\subseteq Y$. Then a function $g:Y\to X$ is a pseudo-inverse (function) of $f$ if for all $y\in U$, $g(y)$ is contained in the inverse image of $y$. That is,
\be
g(y) \in f^{-1}(y) = \bra{x\in X: f(x) = y}.
\ee
\end{definition}

\begin{example}\label{exa:bijective_function_4}
Let $X = \bra{1,2,3,4}$, $Y = \bra{a,b,c,d}$ and $f:X\to Y$ with
\be
f(1) = a,\quad f(2) = b,\quad f(3) = c,\quad f(4) = b.
\ee

Also, let $U = \bra{a,b,c}$. Then function $g:Y\to X$
\be
g(a) = 1,\quad g(b) = 2, \quad g(c) = 3,\quad g(d) = 4
\ee
is pseudo-inverse of $f$. Note that $g(d)$ may take any value among $\bra{1,2,3,4}$.
\end{example}

\begin{definition}[left inverse, right inverse]
Let $f:X\to Y$ be a function.% with range $U\subseteq Y$.

A function $g:Y\to X$ is a left inverse (function) of $f$ if for any $x\in X$,
\be
\bb{g\circ f }(x) = x,\qquad (g\circ f = i_X).
\ee

A function $g:Y\to X$ is a right inverse (function) of $f$ if for any $y\in Y$,
\be
\bb{f\circ g }(y) = y,\qquad (g\circ f = i_Y).
\ee
\end{definition}


\begin{theorem}\label{thm:pseudo_inverse_function_composition_identity_function}
Let $f:X\to Y$ be a function.
\ben
\item [(i)] If $f$ is injective, any of its pseudo-inverse functions, $g$, is a left inverse of $f$ ($g\circ f = i_X$) and surjective..
\item [(ii)] If $f$ is surjective, any of its pseudo-inverse functions, $g$, is a right inverse of $f$ ($f\circ g = i_Y$) and injective.
\een
\end{theorem}

\begin{proof}[\bf Proof]
\ben
\item [(i)] Suppose $f$ is injective, and that $x$ is any element of $X$. Then $f(x)$ is an element of the range of $f$, which we denote by $y := f(x)$. If $g$ is a pseudo-inverse of $f$, then $g(y) \in f^{-1}(y)$. Since $f$ is injective, $f^{-1}(y)$ has only one value $x$, which should be equal to $g(y)$. Then
\be
\bb{g\circ f}(x) = g\bb{f(x)} = g(y) = x \ \ra\ g\circ f = i_X.
\ee

Thus, $g\circ f$ is bijective and therefore surjective. Hence, $g$ is surjective by Proposition \ref{pro:composition_injective_surjective_implies_individual_injective_surjective}.

\item [(ii)] Suppose $f$ is surjective. In this case $U = Y$, so for any $y\in Y$, $g(y)$ is contained in $f^{-1}(y)$. This means that
\be
\bb{f\circ g}(y) = f\bb{g(y)} = y \ \ra\ f\circ g = i_Y.
\ee

Thus, $f\circ g$ is bijective and therefore injective. Hence, $g$ is injective by Proposition \ref{pro:composition_injective_surjective_implies_individual_injective_surjective}.
\een
\end{proof}



\begin{theorem}[bijective function has a unique inverse function]\label{thm:bijective_function_has_unique_inverse}
A function $f:X\to Y$ has an inverse function $g:Y\to X$ if and only if $f$ is bijective. Therefore, the bijective function is also called invertible function\index{invertible function}.

Moreover, this inverse function of $f$ is unique, denoted by $f^{-1}$.
\end{theorem}

\begin{proof}[\bf Proof]
($\ra$). Suppose $g$ is an inverse of $f$. Since $g\circ f = i_X$ is injective (more precisely, bijective), $f$ is injective by Proposition \ref{pro:composition_injective_surjective_implies_individual_injective_surjective}. Also $f\circ g = i_Y$ is surjective (more precisely, bijective), $f$ is surjective by Proposition \ref{pro:composition_injective_surjective_implies_individual_injective_surjective}. Thus, $f$ is injective and surjective, that is, bijective.

($\la$). Conversely, suppose $f$ is bijective. Let $g:Y\to X$ be a pseudo-inverse function of $f$. Then since $f$ is surjective, we have
\be
f\circ g = i_Y
\ee
by Theorem \ref{thm:pseudo_inverse_function_composition_identity_function}. Again, by Theorem \ref{thm:pseudo_inverse_function_composition_identity_function}, we have
\be
g\circ f = i_X
\ee
since $f$ is injective. This is actually the definition of the inverse function.

If $g_1$ and $g_2$ are both inverses of $f$. Then since the composition is associative\footnote{lemma needed.},
\be
g_1 = g_1 \circ i_Y = g_1 \circ \bb{f\circ g_2} = \bb{g_1\circ f}\circ g_2 = i_X \circ g_2 = g_2,
\ee
which implies that the inverse is unique.
\end{proof}%\ref{lem:composition_injective_surjective_bijective_functions}

\begin{corollary}\label{cor:inverse_of_bijective_function_is_bijective}
The inverse of a bijective function is also a bijective function.
\end{corollary}


\begin{proof}[\bf Proof]
If $f:X\to Y$ is bijective, then by Theorem \ref{thm:bijective_function_has_unique_inverse}, we can find the inverse function of $f$, $f^{-1}:Y\to X$ with
\be
f\circ f^{-1} = i_Y,\qquad f^{-1} \circ f = i_X.
\ee

It can be seen that $f$ is also the inverse function $f^{-1}$ by Definition \ref{def:inverse_function}. Thus, by Theorem \ref{thm:bijective_function_has_unique_inverse} again, $f^{-1}$ is bijective.
\end{proof}



\begin{proposition}[composition of bijective functions]
Let $f:Y\to Z$ and $g:X\to Y$ be two bijective functions. Then the composition $f\circ g$ is also bijective and
\be
\bb{f\circ g}^{-1} = g^{-1}\circ f^{-1}.
\ee
\end{proposition}

\begin{proof}[\bf Proof]
By proposition \ref{pro:composition_injective_surjective_implies_individual_injective_surjective}, $f\circ g: X\to Z$ is bijective as it is injective and surjective. Also,
\beast
\bb{f\circ g} \circ\bb{ g^{-1}\circ f^{-1}} & = & f\circ \bb{g \circ  g^{-1}} \circ f^{-1} = f\circ i_Y \circ f^{-1} = f \circ f^{-1} = i_Z,\\
\bb{ g^{-1}\circ f^{-1}}\circ  \bb{f\circ g}  & = & g^{-1} \circ \bb{f^{-1}\circ f} \circ g = g^{-1}\circ i_Y \circ g = g^{-1} \circ g = i_X.
\eeast

Also, by Theorem \ref{thm:bijective_function_has_unique_inverse}, this inverse is unique.
\end{proof}


\section{Ordering}

\subsection{Partial ordering}

\begin{definition}[partial ordering\index{partial ordering}]\label{def:partial ordering}
Let $X$ be a set. A partial ordering on $X$ is a relation $\leq$ such that for any $a,b,c\in X$, \ben
\item [(i)] $a\leq a$.
\item [(ii)] $a\leq b, b\leq a\ \ra\ a=b$.
\item [(iii)] $a\leq b,b\leq c\ \ra \ a\leq c$. \een

Then $(X,\leq)$ is a partially ordered set\index{partially ordered set}.
\end{definition}

\begin{definition}[maximal element\index{maximal element}]\label{def:maximal_element}
Let $X$ be a partially ordered set. $m \in X$ is a maximal element if $m\leq x\ \ra \ m =x$.
\end{definition}

\begin{definition}[upper bound\index{upper bound!patially ordered set}]\label{def:upper_bound_partially_ordered_set}
Let $X$ be a partially ordered set. $b \in X$ is a upper bound for $S\subseteq X$ if $\forall a\in S, a\leq b$.
\end{definition}

\subsection{Infimum and supremum}

%\begin{definition}[supremum, infimum\index{infimum}]\label{def:infimum}
%\end{definition}

\begin{definition}[lower bound, upper bound]
Let $(X,\leq)$ be a partially ordered set.

A lower bound of a subset $S$ of $X$ is an element $a\in X$ such that $a\leq x,x\in X$.

An upper bound of a subset $S$ of $X$ is an element $b\in X$ such that $x\leq b,x\in X$.
\end{definition}

\begin{definition}[infimum, supremum]\label{def:infimum_supremum}
Let $(X,\leq)$ be a partially ordered set and $S$ is a subset of $X$.

A lower bound $a$ of $S$ is called an infimum\index{infimum} of $S$ if for all lower bounds $y\in S\subseteq X$, $y\leq a$. % ($a$ is larger than any other lower bound).

A upper bound $b$ of $S$ is called an supremum\index{supremum} of $S$ if for all upper bounds $z\in S\subseteq X$, $b\leq z$. % ($b$ is less than any other upper bound).

Infimum is also called greatest lower bound\index{greatest lower bound} or meet and Supremum is also called least upper bound\index{least upper bound} or join.
\end{definition}

\begin{remark}
Infimum and supremum do not necessarily exist. Existence of an infimum of a subset $S\subseteq X$ can fail if $S$ has no lower bound at all, or if the set of lower bounds does not contain a maximal element. However, if an infimum or supremum does exist, it is unique.
\end{remark}

\subsection{Total ordering}

\begin{definition}[total ordering\index{total ordering}]\label{def:total ordering}
Let $X$ be a partially ordered set. $S \subseteq X$ is a total ordering if $\forall a,b\in S$, either $a\leq b$ or $b\leq a$.
\end{definition}


\section{Cartesian Product}

\footnote{infinite set. definition needed.}

\begin{definition}[ordered pair\index{ordered pair}]
If $x$ and $y$ are any objects (possibly equal), we define the ordered pair $(x,y)$ to be a new object, consisting of $x$ as its first component and $y$ as its second component.
\end{definition}

\begin{definition}[equality of ordered pair\index{equality!ordered pair}]
Two ordered pairs $(x,y)$ and $(x',y')$ are considered equal if and only if their components match, i.e., \be (x,y) = (x',y') \ \lra \ x=x',y = y'. \ee
\end{definition}

\section{Cardinality of Sets}

\section{Sequences}

\subsection{Sequences}

\begin{definition}[sequence]
A sequence is an enumerated collection of objects in which repetitions are allowed.
\end{definition}

\begin{remark}
Like a set, it contains members (also called elements, or terms). The number of elements (possibly infinite) is called the length of the sequence. Unlike a set, order matters, and exactly the same elements can appear multiple times at different positions in the sequence.
\end{remark}

\begin{example}
\footnote{example needed.}
\end{example}

\subsection{Function sequence}

\begin{definition}
For $x \in [0,\infty]$ and a sequence $(x_n)_{n \in\N}$ in $[0,\infty]$, we write $x_n \ua x$ to mean that $x_n \leq x_{n+1}$ for all $n$ and $x_n \to x$ as $n \to \infty$. For a non-negative
function $f$ on $E$ and a sequence of such functions $(f_n)_{n \in \N}$, we write $f_n \ua f$ to mean that $f_n(x) \ua f(x)$ for all $x \in E$.
\end{definition}



\section{Summary}

function $\subseteq$ relation
